import{s as Ke,a as S,f as _,l as Y,A as Qe,d as g,c as N,g as p,h as E,m as Z,B as Be,j as m,C as ie,D as Xe,i as Se,x as r,E as Re,F as we,n as Je,G as Me,H as Ye,J as Ze}from"../chunks/scheduler.33949bd7.js";import{S as xe,i as et,b as re,d as oe,m as ce,a as z,c as tt,t as Q,e as ue,g as at}from"../chunks/index.a1978529.js";import{v as x,I as lt,h as st,a as se,S as nt,A as rt,b as Le,t as ot,o as ct,n as ut,g as it,f as We,B as ft,u as Fe}from"../chunks/AboutModal.6c108ca9.js";const{Boolean:ht}=it;function Ge(t,n,a){const l=t.slice();return l[14]=n[a],l}function qe(t,n,a){const l=t.slice();return l[17]=n[a],l}function He(t){let n,a=(t[17]==="none"?"(None)":We(x[t[17]],"labelShort","label"))+"",l,h,c;return{c(){n=_("option"),l=Y(a),h=S(),this.h()},l(o){n=p(o,"OPTION",{});var d=E(n);l=Z(d,a),h=N(d),d.forEach(g),this.h()},h(){n.__value=c=t[17],ie(n,n.__value)},m(o,d){Se(o,n,d),r(n,l),r(n,h)},p(o,d){d&4&&a!==(a=(o[17]==="none"?"(None)":We(x[o[17]],"labelShort","label"))+"")&&Je(l,a),d&4&&c!==(c=o[17])&&(n.__value=c,ie(n,n.__value))},d(o){o&&g(n)}}}function ze(t){let n,a;return n=new ft({props:{name:t[14],dataObj:Fe(t[3][t[14]]),showPercentages:!1,xVar:t[0],yMax:t[4]}}),{c(){re(n.$$.fragment)},l(l){oe(n.$$.fragment,l)},m(l,h){ce(n,l,h),a=!0},p(l,h){const c={};h&8&&(c.name=l[14]),h&8&&(c.dataObj=Fe(l[3][l[14]])),h&1&&(c.xVar=l[0]),h&16&&(c.yMax=l[4]),n.$set(c)},i(l){a||(z(n.$$.fragment,l),a=!0)},o(l){Q(n.$$.fragment,l),a=!1},d(l){ue(n,l)}}}function dt(t){let n,a,l,h,c,o,d,C,w,V,R=x[t[0]].label+"",J,X,b,A,k,$="Wave",j,O,y,Ne=t[5][0]+"",fe,D,Te=t[5][1]+"",he,de,M,L,Ve="Colour",_e,T,pe,ee,ge,W,me,te,ve,F,be,I,$e,G,U,Ee,ye;C=new lt({props:{data:st}});let K=se(t[2]),v=[];for(let e=0;e<K.length;e+=1)v[e]=He(qe(t,K,e));let q=se(Object.keys(t[3])),u=[];for(let e=0;e<q.length;e+=1)u[e]=ze(Ge(t,q,e));const Ue=e=>Q(u[e],1,1,()=>{u[e]=null});return I=new nt({props:{responseVars:t[6],varLabels:x,currResponse:t[0]}}),I.$on("responseChange",t[8]),G=new rt({}),{c(){n=S(),a=_("div"),l=_("input"),h=S(),c=_("div"),o=_("span"),d=_("label"),re(C.$$.fragment),w=S(),V=_("h1"),J=Y(R),X=S(),b=_("div"),A=_("span"),k=_("span"),k.textContent=$,j=S(),O=_("select"),y=_("option"),fe=Y(Ne),D=_("option"),he=Y(Te),de=S(),M=_("span"),L=_("span"),L.textContent=Ve,_e=S(),T=_("select");for(let e=0;e<v.length;e+=1)v[e].c();pe=S(),ee=_("br"),ge=S(),W=_("span"),me=Y("* The '25-34' category includes respondents aged 25-35 in Gambia and Senegal"),ve=S(),F=_("div");for(let e=0;e<u.length;e+=1)u[e].c();be=S(),re(I.$$.fragment),$e=S(),re(G.$$.fragment),this.h()},l(e){Qe("svelte-jb16f3",document.head).forEach(g),n=N(e),a=p(e,"DIV",{class:!0});var i=E(a);l=p(i,"INPUT",{id:!0,type:!0,class:!0}),h=N(i),c=p(i,"DIV",{class:!0});var s=E(c);o=p(s,"SPAN",{class:!0});var P=E(o);d=p(P,"LABEL",{for:!0,class:!0});var Ae=E(d);oe(C.$$.fragment,Ae),Ae.forEach(g),w=N(P),V=p(P,"H1",{class:!0});var Oe=E(V);J=Z(Oe,R),Oe.forEach(g),P.forEach(g),X=N(s),b=p(s,"DIV",{class:!0});var B=E(b);A=p(B,"SPAN",{});var ae=E(A);k=p(ae,"SPAN",{class:!0,"data-svelte-h":!0}),Be(k)!=="svelte-lfwh90"&&(k.textContent=$),j=N(ae),O=p(ae,"SELECT",{class:!0});var Ce=E(O);y=p(Ce,"OPTION",{});var Pe=E(y);fe=Z(Pe,Ne),Pe.forEach(g),D=p(Ce,"OPTION",{});var ke=E(D);he=Z(ke,Te),ke.forEach(g),Ce.forEach(g),ae.forEach(g),de=N(B),M=p(B,"SPAN",{});var le=E(M);L=p(le,"SPAN",{class:!0,"data-svelte-h":!0}),Be(L)!=="svelte-eh4omn"&&(L.textContent=Ve),_e=N(le),T=p(le,"SELECT",{class:!0});var Ie=E(T);for(let H=0;H<v.length;H+=1)v[H].l(Ie);Ie.forEach(g),le.forEach(g),pe=N(B),ee=p(B,"BR",{class:!0}),ge=N(B),W=p(B,"SPAN",{class:!0});var je=E(W);me=Z(je,"* The '25-34' category includes respondents aged 25-35 in Gambia and Senegal"),je.forEach(g),B.forEach(g),ve=N(s),F=p(s,"DIV",{class:!0});var De=E(F);for(let H=0;H<u.length;H+=1)u[H].l(De);De.forEach(g),s.forEach(g),be=N(i),oe(I.$$.fragment,i),$e=N(i),oe(G.$$.fragment,i),i.forEach(g),this.h()},h(){document.title="TRANSMIT Data Explorer",m(l,"id","page-drawer"),m(l,"type","checkbox"),m(l,"class","drawer-toggle"),m(d,"for","page-drawer"),m(d,"class","btn btn-square btn-ghost drawer-button mr-4"),m(V,"class","text-lg font-bold uppercase"),m(o,"class","mb-4 flex items-center before:text-xs before:content-[attr(data-tip)] lg:hidden"),m(k,"class","label-text"),y.__value=t[5][0],ie(y,y.__value),D.__value=t[5][1],ie(D,D.__value),m(O,"class","select select-bordered select-sm m-1 mr-4"),m(L,"class","label-text"),m(T,"class","select select-bordered select-sm m-1 mr-4 w-32"),t[1]===void 0&&Xe(()=>t[11].call(T)),m(ee,"class","md:hidden"),m(W,"class",te=t[0]==="agegr"||t[1]==="agegr"?"label-text ml-2":"hidden"),m(b,"class","mb-8 lg:mt-2"),m(F,"class","grid max-h-[calc(100vh-72px)] grid-cols-1 gap-3 overflow-y-auto overflow-x-hidden"),m(c,"class","drawer-content flex flex-col p-4"),m(a,"class","drawer drawer-mobile")},m(e,f){Se(e,n,f),Se(e,a,f),r(a,l),r(a,h),r(a,c),r(c,o),r(o,d),ce(C,d,null),r(o,w),r(o,V),r(V,J),r(c,X),r(c,b),r(b,A),r(A,k),r(A,j),r(A,O),r(O,y),r(y,fe),r(O,D),r(D,he),r(b,de),r(b,M),r(M,L),r(M,_e),r(M,T);for(let i=0;i<v.length;i+=1)v[i]&&v[i].m(T,null);Re(T,t[1],!0),r(b,pe),r(b,ee),r(b,ge),r(b,W),r(W,me),r(c,ve),r(c,F);for(let i=0;i<u.length;i+=1)u[i]&&u[i].m(F,null);r(a,be),ce(I,a,null),r(a,$e),ce(G,a,null),U=!0,Ee||(ye=[we(O,"change",t[7]),we(T,"change",t[11]),we(T,"change",t[9])],Ee=!0)},p(e,[f]){if((!U||f&1)&&R!==(R=x[e[0]].label+"")&&Je(J,R),f&4){K=se(e[2]);let s;for(s=0;s<K.length;s+=1){const P=qe(e,K,s);v[s]?v[s].p(P,f):(v[s]=He(P),v[s].c(),v[s].m(T,null))}for(;s<v.length;s+=1)v[s].d(1);v.length=K.length}if(f&6&&Re(T,e[1]),(!U||f&7&&te!==(te=e[0]==="agegr"||e[1]==="agegr"?"label-text ml-2":"hidden"))&&m(W,"class",te),f&25){q=se(Object.keys(e[3]));let s;for(s=0;s<q.length;s+=1){const P=Ge(e,q,s);u[s]?(u[s].p(P,f),z(u[s],1)):(u[s]=ze(P),u[s].c(),z(u[s],1),u[s].m(F,null))}for(at(),s=q.length;s<u.length;s+=1)Ue(s);tt()}const i={};f&1&&(i.currResponse=e[0]),I.$set(i)},i(e){if(!U){z(C.$$.fragment,e);for(let f=0;f<q.length;f+=1)z(u[f]);z(I.$$.fragment,e),z(G.$$.fragment,e),U=!0}},o(e){Q(C.$$.fragment,e),u=u.filter(ht);for(let f=0;f<u.length;f+=1)Q(u[f]);Q(I.$$.fragment,e),Q(G.$$.fragment,e),U=!1},d(e){e&&(g(n),g(a)),ue(C),Me(v,e),Me(u,e),ue(I),ue(G),Ee=!1,Ye(ye)}}}const ne="Rcountry";function _t(t,n,a){const l=["1","2"];let h=Le[l[0]];const c=Object.keys(h);let o=c[0];const d=["agegr","gender","edu","none"];let C=d.filter($=>$!==o),w=C[0],V;function R($){a(10,h=Le[$.currentTarget.value]),console.log($.currentTarget.value)}function J($){a(0,o=$.detail.response),a(2,C=d.filter(j=>j!==o)),V=w,a(1,w=C.includes(V)?V:C[0])}function X($){V=w,a(1,w=$.currentTarget.value)}let b,A;function k(){w=Ze(this),a(1,w),a(2,C)}return t.$$.update=()=>{if(t.$$.dirty&1027){let $=ot(h[o]);w==="none"&&($=$.derive({none:y=>""}));let j=$.groupby([`${ne}`,`${w}`,`${o}`]).rollup({value:y=>ct.sum(y.value)});a(4,A=Math.max(...j.array("value").filter(Boolean)));const O=j.groupby([`${ne}`,`${o}`]).pivot(`${w}`,"value",{sort:!1});a(3,b=O.groupby(`${ne}`).objects({columns:ut(`${ne}`),grouped:"object"}))}},[o,w,C,b,A,l,c,R,J,X,h,k]}class vt extends xe{constructor(n){super(),et(this,n,_t,dt,Ke,{})}}export{vt as component};

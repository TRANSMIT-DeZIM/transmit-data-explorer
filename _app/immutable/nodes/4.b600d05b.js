import{s as Je,a as S,f as _,l as Y,A as Qe,d as g,c as N,g as p,h as E,m as Z,B as Be,j as m,F as ie,G as Xe,i as Se,x as n,H as Re,D as Ce,n as Ke,I as Me,E as Ye,K as Ze}from"../chunks/scheduler.cb035a1f.js";import{S as xe,i as et,b as ne,d as oe,m as ce,a as z,c as tt,t as Q,e as ue,g as at}from"../chunks/index.ab256b4e.js";import{v as x,I as lt,h as st,a as se,S as rt,b as Le,t as nt,o as ot,n as ct,g as ut,f as We,B as it,u as Fe}from"../chunks/SidebarDrawer.e5a875bc.js";import{A as ft}from"../chunks/AboutModal.80c94a42.js";const{Boolean:ht}=ut;function Ge(t,r,a){const l=t.slice();return l[14]=r[a],l}function qe(t,r,a){const l=t.slice();return l[17]=r[a],l}function He(t){let r,a=(t[17]==="none"?"(None)":We(x[t[17]],"labelShort","label"))+"",l,h,c;return{c(){r=_("option"),l=Y(a),h=S(),this.h()},l(o){r=p(o,"OPTION",{});var d=E(r);l=Z(d,a),h=N(d),d.forEach(g),this.h()},h(){r.__value=c=t[17],ie(r,r.__value)},m(o,d){Se(o,r,d),n(r,l),n(r,h)},p(o,d){d&4&&a!==(a=(o[17]==="none"?"(None)":We(x[o[17]],"labelShort","label"))+"")&&Ke(l,a),d&4&&c!==(c=o[17])&&(r.__value=c,ie(r,r.__value))},d(o){o&&g(r)}}}function ze(t){let r,a;return r=new it({props:{name:t[14],dataObj:Fe(t[3][t[14]]),showPercentages:!1,xVar:t[0],yMax:t[4]}}),{c(){ne(r.$$.fragment)},l(l){oe(r.$$.fragment,l)},m(l,h){ce(r,l,h),a=!0},p(l,h){const c={};h&8&&(c.name=l[14]),h&8&&(c.dataObj=Fe(l[3][l[14]])),h&1&&(c.xVar=l[0]),h&16&&(c.yMax=l[4]),r.$set(c)},i(l){a||(z(r.$$.fragment,l),a=!0)},o(l){Q(r.$$.fragment,l),a=!1},d(l){ue(r,l)}}}function dt(t){let r,a,l,h,c,o,d,w,C,T,R=x[t[0]].label+"",K,X,b,y,P,$="Wave",j,I,V,Ne=t[5][0]+"",fe,D,Ae=t[5][1]+"",he,de,M,L,Te="Colour",_e,A,pe,ee,ge,W,me,te,ve,F,be,k,$e,G,U,Ee,Ve;w=new lt({props:{data:st}});let J=se(t[2]),v=[];for(let e=0;e<J.length;e+=1)v[e]=He(qe(t,J,e));let q=se(Object.keys(t[3])),u=[];for(let e=0;e<q.length;e+=1)u[e]=ze(Ge(t,q,e));const Ue=e=>Q(u[e],1,1,()=>{u[e]=null});return k=new rt({props:{responseVars:t[6],varLabels:x,currResponse:t[0]}}),k.$on("responseChange",t[8]),G=new ft({props:{which:"West Africa"}}),{c(){r=S(),a=_("div"),l=_("input"),h=S(),c=_("div"),o=_("span"),d=_("label"),ne(w.$$.fragment),C=S(),T=_("h1"),K=Y(R),X=S(),b=_("div"),y=_("span"),P=_("span"),P.textContent=$,j=S(),I=_("select"),V=_("option"),fe=Y(Ne),D=_("option"),he=Y(Ae),de=S(),M=_("span"),L=_("span"),L.textContent=Te,_e=S(),A=_("select");for(let e=0;e<v.length;e+=1)v[e].c();pe=S(),ee=_("br"),ge=S(),W=_("span"),me=Y("* The '25-34' category includes respondents aged 25-35 in Gambia and Senegal"),ve=S(),F=_("div");for(let e=0;e<u.length;e+=1)u[e].c();be=S(),ne(k.$$.fragment),$e=S(),ne(G.$$.fragment),this.h()},l(e){Qe("svelte-jb16f3",document.head).forEach(g),r=N(e),a=p(e,"DIV",{class:!0});var i=E(a);l=p(i,"INPUT",{id:!0,type:!0,class:!0}),h=N(i),c=p(i,"DIV",{class:!0});var s=E(c);o=p(s,"SPAN",{class:!0});var O=E(o);d=p(O,"LABEL",{for:!0,class:!0});var ye=E(d);oe(w.$$.fragment,ye),ye.forEach(g),C=N(O),T=p(O,"H1",{class:!0});var Ie=E(T);K=Z(Ie,R),Ie.forEach(g),O.forEach(g),X=N(s),b=p(s,"DIV",{class:!0});var B=E(b);y=p(B,"SPAN",{});var ae=E(y);P=p(ae,"SPAN",{class:!0,"data-svelte-h":!0}),Be(P)!=="svelte-lfwh90"&&(P.textContent=$),j=N(ae),I=p(ae,"SELECT",{class:!0});var we=E(I);V=p(we,"OPTION",{});var Oe=E(V);fe=Z(Oe,Ne),Oe.forEach(g),D=p(we,"OPTION",{});var Pe=E(D);he=Z(Pe,Ae),Pe.forEach(g),we.forEach(g),ae.forEach(g),de=N(B),M=p(B,"SPAN",{});var le=E(M);L=p(le,"SPAN",{class:!0,"data-svelte-h":!0}),Be(L)!=="svelte-eh4omn"&&(L.textContent=Te),_e=N(le),A=p(le,"SELECT",{class:!0});var ke=E(A);for(let H=0;H<v.length;H+=1)v[H].l(ke);ke.forEach(g),le.forEach(g),pe=N(B),ee=p(B,"BR",{class:!0}),ge=N(B),W=p(B,"SPAN",{class:!0});var je=E(W);me=Z(je,"* The '25-34' category includes respondents aged 25-35 in Gambia and Senegal"),je.forEach(g),B.forEach(g),ve=N(s),F=p(s,"DIV",{class:!0});var De=E(F);for(let H=0;H<u.length;H+=1)u[H].l(De);De.forEach(g),s.forEach(g),be=N(i),oe(k.$$.fragment,i),$e=N(i),oe(G.$$.fragment,i),i.forEach(g),this.h()},h(){document.title="TRANSMIT Data Explorer",m(l,"id","page-drawer"),m(l,"type","checkbox"),m(l,"class","drawer-toggle"),m(d,"for","page-drawer"),m(d,"class","btn btn-square btn-ghost drawer-button mr-4"),m(T,"class","text-lg font-bold uppercase"),m(o,"class","mb-4 flex items-center before:text-xs before:content-[attr(data-tip)] lg:hidden"),m(P,"class","label-text"),V.__value=t[5][0],ie(V,V.__value),D.__value=t[5][1],ie(D,D.__value),m(I,"class","select select-bordered select-sm m-1 mr-4"),m(L,"class","label-text"),m(A,"class","select select-bordered select-sm m-1 mr-4 w-32"),t[1]===void 0&&Xe(()=>t[11].call(A)),m(ee,"class","md:hidden"),m(W,"class",te=t[0]==="agegr"||t[1]==="agegr"?"label-text ml-2":"hidden"),m(b,"class","mb-8 lg:mt-2"),m(F,"class","grid max-h-[calc(100vh-72px)] grid-cols-1 gap-3 overflow-y-auto overflow-x-hidden"),m(c,"class","drawer-content flex flex-col p-4"),m(a,"class","drawer drawer-mobile")},m(e,f){Se(e,r,f),Se(e,a,f),n(a,l),n(a,h),n(a,c),n(c,o),n(o,d),ce(w,d,null),n(o,C),n(o,T),n(T,K),n(c,X),n(c,b),n(b,y),n(y,P),n(y,j),n(y,I),n(I,V),n(V,fe),n(I,D),n(D,he),n(b,de),n(b,M),n(M,L),n(M,_e),n(M,A);for(let i=0;i<v.length;i+=1)v[i]&&v[i].m(A,null);Re(A,t[1],!0),n(b,pe),n(b,ee),n(b,ge),n(b,W),n(W,me),n(c,ve),n(c,F);for(let i=0;i<u.length;i+=1)u[i]&&u[i].m(F,null);n(a,be),ce(k,a,null),n(a,$e),ce(G,a,null),U=!0,Ee||(Ve=[Ce(I,"change",t[7]),Ce(A,"change",t[11]),Ce(A,"change",t[9])],Ee=!0)},p(e,[f]){if((!U||f&1)&&R!==(R=x[e[0]].label+"")&&Ke(K,R),f&4){J=se(e[2]);let s;for(s=0;s<J.length;s+=1){const O=qe(e,J,s);v[s]?v[s].p(O,f):(v[s]=He(O),v[s].c(),v[s].m(A,null))}for(;s<v.length;s+=1)v[s].d(1);v.length=J.length}if(f&6&&Re(A,e[1]),(!U||f&7&&te!==(te=e[0]==="agegr"||e[1]==="agegr"?"label-text ml-2":"hidden"))&&m(W,"class",te),f&25){q=se(Object.keys(e[3]));let s;for(s=0;s<q.length;s+=1){const O=Ge(e,q,s);u[s]?(u[s].p(O,f),z(u[s],1)):(u[s]=ze(O),u[s].c(),z(u[s],1),u[s].m(F,null))}for(at(),s=q.length;s<u.length;s+=1)Ue(s);tt()}const i={};f&1&&(i.currResponse=e[0]),k.$set(i)},i(e){if(!U){z(w.$$.fragment,e);for(let f=0;f<q.length;f+=1)z(u[f]);z(k.$$.fragment,e),z(G.$$.fragment,e),U=!0}},o(e){Q(w.$$.fragment,e),u=u.filter(ht);for(let f=0;f<u.length;f+=1)Q(u[f]);Q(k.$$.fragment,e),Q(G.$$.fragment,e),U=!1},d(e){e&&(g(r),g(a)),ue(w),Me(v,e),Me(u,e),ue(k),ue(G),Ee=!1,Ye(Ve)}}}const re="Rcountry";function _t(t,r,a){const l=["1","2"];let h=Le[l[0]];const c=Object.keys(h);let o=c[0];const d=["agegr","gender","edu","none"];let w=d.filter($=>$!==o),C=w[0],T;function R($){a(10,h=Le[$.currentTarget.value]),console.log($.currentTarget.value)}function K($){a(0,o=$.detail.response),a(2,w=d.filter(j=>j!==o)),T=C,a(1,C=w.includes(T)?T:w[0])}function X($){T=C,a(1,C=$.currentTarget.value)}let b,y;function P(){C=Ze(this),a(1,C),a(2,w)}return t.$$.update=()=>{if(t.$$.dirty&1027){let $=nt(h[o]);C==="none"&&($=$.derive({none:V=>""}));let j=$.groupby([`${re}`,`${C}`,`${o}`]).rollup({value:V=>ot.sum(V.value)});a(4,y=Math.max(...j.array("value").filter(Boolean)));const I=j.groupby([`${re}`,`${o}`]).pivot(`${C}`,"value",{sort:!1});a(3,b=I.groupby(`${re}`).objects({columns:ct(`${re}`),grouped:"object"}))}},[o,C,w,b,y,l,c,R,K,X,h,P]}class bt extends xe{constructor(r){super(),et(this,r,_t,dt,Je,{})}}export{bt as component};
